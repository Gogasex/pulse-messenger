<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pulse Messenger</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

  <!-- ========== –≠–ö–†–ê–ù –í–•–û–î–ê ========== -->
  <div id="login-screen" class="screen active">
    <div class="login-container">
      <div class="login-logo">
        <div class="logo-icon">
          <i class="fas fa-bolt"></i>
        </div>
        <h1>Pulse</h1>
        <p>–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è</p>
      </div>

      <form id="login-form" class="login-form">
        <div class="input-group">
          <i class="fas fa-user"></i>
          <input type="text" id="username-input" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
                 required minlength="2" maxlength="20" autocomplete="off">
        </div>
        <div class="input-group">
          <i class="fas fa-id-card"></i>
          <input type="text" id="displayname-input" placeholder="–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"
                 maxlength="30" autocomplete="off">
        </div>
        <button type="submit" class="btn-primary">
          <i class="fas fa-arrow-right"></i>
          –í–æ–π—Ç–∏ –≤ Pulse
        </button>
      </form>
    </div>
  </div>

  <!-- ========== –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù ========== -->
  <div id="main-screen" class="screen">
    <div class="app-container">

      <!-- –ë–û–ö–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <div class="logo-small">
            <i class="fas fa-bolt"></i>
            <span>Pulse</span>
          </div>
          <button class="btn-icon" id="btn-new-group" title="–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É">
            <i class="fas fa-plus"></i>
          </button>
        </div>

        <!-- –ü–æ–∏—Å–∫ -->
        <div class="search-bar">
          <i class="fas fa-search"></i>
          <input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫...">
        </div>

        <!-- –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ -->
        <div class="chat-list" id="chat-list">
          <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
        </div>

        <!-- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–Ω–∏–∑—É -->
        <div class="sidebar-footer">
          <div class="user-profile" id="user-profile">
            <div class="avatar-small" id="my-avatar">
              <i class="fas fa-user"></i>
            </div>
            <div class="user-info">
              <span class="username" id="my-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
              <span class="status-text" id="my-status">–í —Å–µ—Ç–∏</span>
            </div>
          </div>
          <button class="btn-icon" id="btn-settings" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
            <i class="fas fa-cog"></i>
          </button>
        </div>
      </aside>

      <!-- –û–°–ù–û–í–ù–ê–Ø –û–ë–õ–ê–°–¢–¨ –ß–ê–¢–ê -->
      <main class="chat-area">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —á–∞—Ç–∞ -->
        <header class="chat-header" id="chat-header">
          <div class="chat-info">
            <div class="avatar-medium">
              <i class="fas fa-comments"></i>
            </div>
            <div>
              <h3 id="chat-name">üí¨ –û–±—â–∏–π —á–∞—Ç</h3>
              <span class="chat-subtitle" id="chat-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç –¥–ª—è –Ω–∞—á–∞–ª–∞</span>
            </div>
          </div>
          <div class="chat-actions">
            <button class="btn-icon" title="–ì–æ–ª–æ—Å–æ–≤–æ–π –∑–≤–æ–Ω–æ–∫">
              <i class="fas fa-phone"></i>
            </button>
            <button class="btn-icon" title="–í–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫">
              <i class="fas fa-video"></i>
            </button>
            <button class="btn-icon" title="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è">
              <i class="fas fa-info-circle"></i>
            </button>
          </div>
        </header>

        <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
        <div class="messages-container" id="messages-container">
          <div class="messages-list" id="messages-list">
            <!-- –°–æ–æ–±—â–µ–Ω–∏—è –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
          </div>
        </div>

        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏ -->
        <div class="typing-indicator" id="typing-indicator" style="display: none;">
          <div class="typing-dots">
            <span></span><span></span><span></span>
          </div>
          <span class="typing-text" id="typing-text">–ø–µ—á–∞—Ç–∞–µ—Ç...</span>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –≤–≤–æ–¥–∞ -->
        <footer class="message-input-area">
          <!-- –ü—Ä–µ–≤—å—é –æ—Ç–≤–µ—Ç–∞ -->
          <div class="reply-preview" id="reply-preview" style="display: none;">
            <div class="reply-content">
              <i class="fas fa-reply"></i>
              <span id="reply-text"></span>
            </div>
            <button class="btn-icon btn-small" id="btn-cancel-reply">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="input-row">
            <!-- –ö–Ω–æ–ø–∫–∞ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª -->
            <button class="btn-icon" id="btn-attach" title="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª">
              <i class="fas fa-paperclip"></i>
            </button>
            <input type="file" id="file-input" hidden multiple>

            <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ -->
            <div class="message-input-wrapper">
              <textarea id="message-input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
                        rows="1" maxlength="5000"></textarea>
            </div>

            <!-- üîä –ö–ù–û–ü–ö–ê –í–´–ë–û–†–ê –ó–í–£–ö–ê (–£–ù–ò–ö–ê–õ–¨–ù–ê–Ø –§–ò–®–ö–ê!) -->
            <div class="sound-selector" id="sound-selector">
              <button class="btn-icon btn-sound" id="btn-sound" title="–í—ã–±—Ä–∞—Ç—å –∑–≤—É–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏">
                <i class="fas fa-music"></i>
              </button>
              <div class="sound-dropdown" id="sound-dropdown">
                <div class="sound-dropdown-header">
                  <i class="fas fa-music"></i> –ó–≤—É–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏
                </div>
                <div class="sound-option active" data-sound="default">
                  <i class="fas fa-bell"></i>
                  <span>–û–±—ã—á–Ω—ã–π</span>
                  <button class="btn-play" data-sound="default"><i class="fas fa-play"></i></button>
                </div>
                <div class="sound-option" data-sound="birthday">
                  <i class="fas fa-birthday-cake"></i>
                  <span>–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è üéÇ</span>
                  <button class="btn-play" data-sound="birthday"><i class="fas fa-play"></i></button>
                </div>
                <div class="sound-option" data-sound="funny">
                  <i class="fas fa-laugh-squint"></i>
                  <span>–°–º–µ—à–Ω–æ–π üòÇ</span>
                  <button class="btn-play" data-sound="funny"><i class="fas fa-play"></i></button>
                </div>
                <div class="sound-option" data-sound="urgent">
                  <i class="fas fa-exclamation-triangle"></i>
                  <span>–°—Ä–æ—á–Ω–æ! üö®</span>
                  <button class="btn-play" data-sound="urgent"><i class="fas fa-play"></i></button>
                </div>
                <div class="sound-option" data-sound="romantic">
                  <i class="fas fa-heart"></i>
                  <span>–†–æ–º–∞–Ω—Ç–∏–∫–∞ ‚ù§Ô∏è</span>
                  <button class="btn-play" data-sound="romantic"><i class="fas fa-play"></i></button>
                </div>
                <div class="sound-option" data-sound="applause">
                  <i class="fas fa-hands-clapping"></i>
                  <span>–ê–ø–ª–æ–¥–∏—Å–º–µ–Ω—Ç—ã üëè</span>
                  <button class="btn-play" data-sound="applause"><i class="fas fa-play"></i></button>
                </div>
                <div class="sound-option" data-sound="none">
                  <i class="fas fa-volume-mute"></i>
                  <span>–ë–µ–∑ –∑–≤—É–∫–∞ üîá</span>
                  <button class="btn-play" data-sound="none"><i class="fas fa-play"></i></button>
                </div>
              </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ —ç–º–æ–¥–∑–∏ -->
            <button class="btn-icon" id="btn-emoji" title="–≠–º–æ–¥–∑–∏">
              <i class="fas fa-smile"></i>
            </button>

            <!-- –ü–∞–Ω–µ–ª—å —ç–º–æ–¥–∑–∏ -->
            <div class="emoji-picker" id="emoji-picker" style="display: none;">
              <div class="emoji-grid">
                <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
              </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
            <button class="btn-send" id="btn-send" title="–û—Ç–ø—Ä–∞–≤–∏—Ç—å">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        </footer>
      </main>

      <!-- –ü–ê–ù–ï–õ–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô (–ø—Ä–∞–≤–∞—è) -->
      <aside class="users-panel" id="users-panel">
        <div class="panel-header">
          <h3>üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏</h3>
        </div>
        <div class="users-list" id="users-list">
          <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
        </div>
      </aside>
    </div>
  </div>

  <!-- ========== –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –°–û–ó–î–ê–ù–ò–Ø –ì–†–£–ü–ü–´ ========== -->
  <div class="modal" id="modal-new-group" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3><i class="fas fa-users"></i> –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É</h3>
        <button class="btn-icon" id="btn-close-modal">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <div class="input-group">
          <i class="fas fa-edit"></i>
          <input type="text" id="group-name-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã">
        </div>
        <p class="modal-hint">–í—ã–±–µ—Ä–∏—Ç–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:</p>
        <div class="members-select" id="members-select">
          <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-secondary" id="btn-cancel-group">–û—Ç–º–µ–Ω–∞</button>
        <button class="btn-primary" id="btn-create-group">–°–æ–∑–¥–∞—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- ========== –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –û –ó–í–£–ö–ï ========== -->
  <div class="sound-notification" id="sound-notification" style="display: none;">
    <div class="sound-notif-content">
      <i class="fas fa-music"></i>
      <span id="sound-notif-text">üéÇ –ü—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ!</span>
    </div>
  </div>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.4/socket.io.min.js"></script>
  <script src="app.js"></script>
</body>
</html>